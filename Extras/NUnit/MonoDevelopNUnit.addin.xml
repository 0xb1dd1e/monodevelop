<AddIn id	 = "MonoDevelop.NUnit"
       name	 = "NUnit support"
       author	 = "Lluis Sanchez, John Luke"
       copyright = "GPL"
       url       = "http://monodevelop.com"
       description = "Integrates NUnit into the MonoDevelop IDE."
	   category    = "IDE extensions"
       version   = "0.11.0">

	<Runtime>
		<Import assembly="MonoDevelop.NUnit.dll" />
	</Runtime>
	
	<Dependencies>
	    <AddIn id="MonoDevelop.Core" version="0.10.0"/>
	    <AddIn id="MonoDevelop.Core.Gui" version="0.10.0"/>
	    <AddIn id="MonoDevelop.Projects" version="0.11.0"/>
	    <AddIn id="MonoDevelop.Projects.Gui" version="0.10.0"/>
		<AddIn id="MonoDevelop.Ide" version="0.10.0"/>
		<Assembly name="nunit.framework, Version=2.2.0.0" package="nunit or mono-nunit"/>
	</Dependencies>

	<Extension path="/Workspace/Services">
		<Class id = "NUnitService" class = "MonoDevelop.NUnit.NUnitService" insertafter = "CommandService"/>
	</Extension>

	<Extension path = "/SharpDevelop/Workbench/Pads">
		<SolutionPad id = "MonoDevelop.NUnit.TestPad" defaultPlacement = "Left" _label = "Unit Tests" icon = "md-combine-icon" class = "MonoDevelop.NUnit.TestPad">
			<PadOption id = "ShowTestTime" _label = "Show Test Time" defaultValue = "False" />
			<PadOption id = "ShowTestCounters" _label = "Show Test Counters" defaultValue = "False" />
			<NodeBuilder id = "TestNode" class = "MonoDevelop.NUnit.TestNodeBuilder"/>
		</SolutionPad>
	</Extension>

	<Extension path = "/SharpDevelop/Workbench/Pads/MonoDevelop.Ide.Gui.Pads.ProjectPad">
		<NodeBuilder id = "NUnitAssemblyGroupNodeBuilder" class = "MonoDevelop.NUnit.NUnitAssemblyGroupNodeBuilder"/>
		<NodeBuilder id = "NUnitAssemblyGroupConfigurationNodeBuilder" class = "MonoDevelop.NUnit.NUnitAssemblyGroupConfigurationNodeBuilder"/>
		<NodeBuilder id = "TestAssemblyNodeBuilder" class = "MonoDevelop.NUnit.TestAssemblyNodeBuilder"/>
	</Extension>
	
	<Extension path = "/SharpDevelop/Workbench/Contexts/Edit">
		<ContextPad id = "MonoDevelop.NUnit.TestPad" />
	</Extension>
	
	<Extension path = "/SharpDevelop/Commands">
		<Command id = "MonoDevelop.NUnit.Commands.TestCommands.RunTest" _label = "Run Test" />
		<Command id = "MonoDevelop.NUnit.Commands.TestCommands.ShowTestCode" _label = "Show test source code" />
		<Command id = "MonoDevelop.NUnit.Commands.TestCommands.SelectTestInTree" _label = "Select test in tree" />
		<Command id = "MonoDevelop.NUnit.Commands.TestCommands.ShowTestDetails" _label = "Show results pad" />
		<Command id = "MonoDevelop.NUnit.Commands.TestChartCommands.UseTimeScale" _label = "Proportional time scale" type="check"/>
		<Command id = "MonoDevelop.NUnit.Commands.TestChartCommands.SingleDayResult" _label = "Show one result per day" type="check"/>
		<Command id = "MonoDevelop.NUnit.Commands.TestChartCommands.ShowResults" _label = "Results chart" type="radio"/>
		<Command id = "MonoDevelop.NUnit.Commands.TestChartCommands.ShowTime" _label = "Time chart" type="radio"/>
		<Command id = "MonoDevelop.NUnit.Commands.TestChartCommands.ShowSuccessfulTests" _label = "Show successful tests" type="check"/>
		<Command id = "MonoDevelop.NUnit.Commands.TestChartCommands.ShowFailedTests" _label = "Show failed tests" type="check"/>
		<Command id = "MonoDevelop.NUnit.Commands.TestChartCommands.ShowIgnoredTests" _label = "Show ignored tests" type="check"/>
		<Command id = "MonoDevelop.NUnit.Commands.NUnitProjectCommands.AddAssembly" _label = "Add assembly ..."/>
	</Extension>

	<Extension path = "/SharpDevelop/Views/ProjectBrowser/ContextMenu/NUnitAssemblyGroup">
	</Extension>

	<Extension path = "/SharpDevelop/Views/ProjectBrowser/ContextMenu/NUnitAssemblyGroupConfiguration">
		<CommandItem id = "MonoDevelop.NUnit.Commands.NUnitProjectCommands.AddAssembly" />
	</Extension>

	<Extension path = "/SharpDevelop/Views/ProjectBrowser/ContextMenu/TestAssembly">
		<CommandItem id = "MonoDevelop.Ide.Commands.EditCommands.Delete" />
	</Extension>

	<Extension path = "/SharpDevelop/Views/TestPad/ContextMenu">
		<CommandItem id = "MonoDevelop.NUnit.Commands.TestCommands.RunTest" />
		<CommandItem id = "MonoDevelop.NUnit.Commands.TestCommands.ShowTestCode" />
		<CommandItem id = "MonoDevelop.NUnit.Commands.TestCommands.ShowTestDetails" />
		<SeparatorItem id = "s1" />
		<CommandItem id = "MonoDevelop.Ide.Commands.ProjectCommands.Options" />
	</Extension>

	<Extension path = "/SharpDevelop/Views/TestResultsPad/ContextMenu">
		<CommandItem id = "MonoDevelop.NUnit.Commands.TestCommands.ShowTestCode" />
		<CommandItem id = "MonoDevelop.NUnit.Commands.TestCommands.SelectTestInTree" />
	</Extension>

	<Extension path = "/SharpDevelop/Views/TestChart/ContextMenu">
		<CommandItem id = "MonoDevelop.NUnit.Commands.TestChartCommands.ShowResults" />
		<CommandItem id = "MonoDevelop.NUnit.Commands.TestChartCommands.ShowTime" />
		<SeparatorItem id = "s1" />
		<CommandItem id = "MonoDevelop.NUnit.Commands.TestChartCommands.ShowSuccessfulTests" />
		<CommandItem id = "MonoDevelop.NUnit.Commands.TestChartCommands.ShowFailedTests" />
		<CommandItem id = "MonoDevelop.NUnit.Commands.TestChartCommands.ShowIgnoredTests" />
		<SeparatorItem id = "s2" />
		<CommandItem id = "MonoDevelop.NUnit.Commands.TestChartCommands.UseTimeScale" />
		<CommandItem id = "MonoDevelop.NUnit.Commands.TestChartCommands.SingleDayResult" />
	</Extension>

	<Extension path = "/SharpDevelop/Workbench/UnitTestOptions">
		<DialogPanel id = "NUnitOptionsPanel"
					 _label = "NUnit options"
					 class = "MonoDevelop.NUnit.NUnitOptionsDialog"/>
	</Extension>

	<Extension path = "/SharpDevelop/Workbench/UnitTestOptions/GeneralOptions">
		<DialogPanel id = "Configurations"
					 _label = "Configurations" />
	</Extension>
	
	<Extension path = "/SharpDevelop/Workbench/UnitTestOptions/ConfigurationProperties">
		<DialogPanel id = "NUnitOptionsPanel"
					 _label = "NUnit Categories"
					 class = "MonoDevelop.NUnit.NUnitOptionsPanel"/>
	</Extension>

	<Extension path = "/MonoDevelop/ProjectTemplates">
		<ProjectTemplate id = "NUnitAssemblyGroup" resource = "NUnitAssemblyGroup.xpt.xml"/>
	</Extension>
  
	<Extension path = "/SharpDevelop/Workbench/ProjectFileFormats">
		<FileFormat id="NUnitAssemblyGroupFileFormat"
		            class="MonoDevelop.NUnit.NUnitAssemblyGroupFileFormat, MonoDevelop.NUnit"/>
	</Extension>

	<!-- New extension points -->

	<Extension path = "/Services/NUnit/TestProviders" extension-nodes="Class" description="Test providers.|Specified classes must implement ITestProvider.">
		<Class id = "SystemTestProvider" class = "MonoDevelop.NUnit.SystemTestProvider"/>
	</Extension>

</AddIn>
