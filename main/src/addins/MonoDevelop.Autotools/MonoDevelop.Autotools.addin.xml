<Addin	id          = "Autotools"
        namespace   = "MonoDevelop"
		name        = "Makefile generation"
		author      = "Matthias Braun, Scott Ellington"
        copyright   = "LGPL"
        url         = "http://monodevelop.com"
        description = "Allows generating simple makefiles and Autotools based makefiles for projects"
        category    = "Project Import and Export"
        version     = "0.19.0">
        
	<Runtime>
		<Import assembly="MonoDevelop.Autotools.dll" />
		<Import file="autogen.sh.template"/>
		<Import file="Makefile.am.project.template"/>
		<Import file="Makefile.include"/>
		<Import file="configure.ac.template"/>
		<Import file="exe.wrapper.in.template"/>
		<Import file="expansions.m4"/>
	</Runtime>

	<Dependencies>
		<Addin id="Core" version="0.19.0"/>
		<Addin id="Core.Gui" version="0.19.0"/>
		<Addin id="Ide" version="0.19.0"/>
		<Addin id="Projects" version="0.19.0"/>
		<Addin id="Projects.Gui" version="0.19.0"/>
		<Addin id="Deployment" version="0.19.0"/>
		<Addin id="DesignerSupport" version="0.19.0"/>
	</Dependencies>
	
	<ExtensionPoint path = "/MonoDevelop/Autotools/SimpleSetups">
		<Description>Simple autotools setups. Specified classes must implement ISimpleAutotoolsSetup</Description>
		<ExtensionNode name ="Class" />
	</ExtensionPoint>
	
	<ExtensionPoint path = "/MonoDevelop/Autotools/MakefileHandlers">
		<Description>Makefile handlers. Specified classes must implement IMakefileHandler</Description>
		<ExtensionNode name ="Class" />
	</ExtensionPoint>
	
	<Extension path = "/MonoDevelop/Ide/Pads/ProjectPad">
		<NodeBuilder id = "AutotoolNodeExtension" class = "MonoDevelop.Autotools.NodeExtension"/>
	</Extension>
	
	<Extension path = "/MonoDevelop/ProjectModel/ProjectServiceExtensions">
		<Class class = "MonoDevelop.Autotools.MakefileProjectServiceExtension" id="MakefileProjectServiceExtension" insertafter="FinalStep"/>
	</Extension>

	<Extension path = "/MonoDevelop/Ide/Commands">
		<Category _name = "Autotools" id = "Autotools">
		<Command id = "MonoDevelop.Autotools.Commands.GenerateFiles"
			_label = "Generate Makefiles..."
			description="Generate Makefiles for a solution"/>
		<Command id = "MonoDevelop.Autotools.Commands.SynchWithMakefile"
			type="check"
			_label = "Include in Synchronized Makefile" />
		</Category>
	</Extension>
	
	<Extension path = "/MonoDevelop/Ide/ContextMenu/ProjectPad/Solution/Tools">
		<CommandItem id = "MonoDevelop.Autotools.Commands.GenerateFiles" insertafter="ExportListSeparator"/>
	</Extension>

	<Extension path = "/MonoDevelop/Ide/ContextMenu/ProjectPad/Project/Tools">
		<CommandItem id = "MonoDevelop.Autotools.Commands.GenerateFiles" insertafter="ExportListSeparator"/>
	</Extension>

	<Extension path = "/MonoDevelop/Ide/MainMenu/Project">
		<CommandItem id = "MonoDevelop.Autotools.Commands.GenerateFiles" insertafter="MonoDevelop.Ide.Commands.ProjectCommands.ExportProject"/>
	</Extension>
	
	<Extension path = "/MonoDevelop/Ide/ContextMenu/ProjectPad/ProjectFile/Include">
		<CommandItem id = "MonoDevelop.Autotools.Commands.SynchWithMakefile" insertafter="Include"/>
	</Extension>
	
	<Extension path = "/MonoDevelop/Ide/Pads/ProjectPad">
		<NodeBuilder class = "MonoDevelop.Autotools.FileNodeBuilderExtension"/>
	</Extension>
	
	<Extension path = "/MonoDevelop/DeployService/PackageBuilders">
		<Class class="MonoDevelop.Autotools.TarballDeployTarget" />
	</Extension>
	
	<Extension path = "/MonoDevelop/Deployment/PackageBuilderEditors">
		<Class class="MonoDevelop.Autotools.TarballTargetEditor" />
	</Extension>
	
	<Extension path = "/MonoDevelop/ProjectModel/SerializableClasses">
		<DataType class = "MonoDevelop.Autotools.TarballDeployTarget" />
	</Extension>

	<Extension path = "/MonoDevelop/ProjectModel/Gui/ItemOptionPanels/Common">
		<Condition id="ItemType" value="Project">
			<Section id= "Makefile" _label = "Makefile Integration"
				class = "MonoDevelop.Autotools.MakefileOptionPanel" />
		</Condition>
	</Extension>

	<Extension path = "/MonoDevelop/ProjectModel/ExtendedProperties">
		<ItemProperty class = "MonoDevelop.Projects.Project"
			name = "MonoDevelop.Autotools.MakefileInfo" type = "MonoDevelop.Autotools.MakefileData" />
	</Extension>
	
	<Extension path = "/MonoDevelop/DesignerSupport/PropertyProviders">
		<Class class = "MonoDevelop.Autotools.PropertyProvider"/>
	</Extension>
	
	<Extension path = "/MonoDevelop/Core/Applications">
		<Application id = "generate-makefiles" class = "MonoDevelop.Autotools.MakefileGeneratorTool" description = "Makefile generator tool"/>
	</Extension>

	<Extension path = "/MonoDevelop/Autotools/MakefileHandlers">
		<Class class = "MonoDevelop.Autotools.SolutionMakefileHandler"/>
		<Class class = "MonoDevelop.Autotools.SimpleProjectMakefileHandler"/>
	</Extension>
	
<!--
	<Extension path = "/MonoDevelop/Ide/ProjectFeatures">
		<Class class = "MonoDevelop.Autotools.MakefileIntegrationFeature" />
	</Extension>
-->
	
</Addin>
